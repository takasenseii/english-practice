<!-- Home + Router (drop into your index.html) -->
<nav id="menu"></nav>
<main id="view"></main>

<script>
/* ---------- Exercise registry (everything is routed by id) ---------- */
const menuSections = [
  {
    title: "Exercises",
    items: [
      { id: "grammar",  label: "Grammar exercises",      render: renderGrammar },
      { id: "spelling", label: "Spelling exercises",     render: renderSpelling },
    ]
  }
];

/* ---------- Home page ---------- */
function renderMenu() {
  const menu = document.getElementById("menu");
  const view = document.getElementById("view");

  menu.innerHTML = `
    <h2>Choose</h2>
    ${menuSections.map(section => `
      <h3>${section.title}</h3>
      <ul>
        ${section.items.map(item =>
          `<li><a href="#/${item.id}">${item.label}</a></li>`
        ).join("")}
      </ul>
    `).join("")}
  `;

  view.innerHTML = `<p>Select an exercise.</p>`;
}

/* ---------- Router ---------- */
function router() {
  const route = (location.hash || "#/").replace("#/", "");

  if (!route) return renderMenu();

  const item =
    menuSections.flatMap(s => s.items).find(i => i.id === route);

  if (!item) return renderMenu();

  // Top nav while inside an exercise
  document.getElementById("menu").innerHTML = `
    <button id="backBtn">‚Üê Back to menu</button>
  `;
  document.getElementById("backBtn").onclick = () => { location.hash = "#/"; };

  // Render the selected exercise (fresh init each time)
  item.render(document.getElementById("view"));
}

window.addEventListener("hashchange", router);
window.addEventListener("load", router);

/* ---------- Exercise render functions (replace with your real ones) ---------- */
function renderAAn(root) {
  root.innerHTML = `<h2>A vs An</h2><div id="exercise"></div>`;
  // initAAn();
}

function renderSVA(root) {
  root.inne
